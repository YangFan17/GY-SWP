<div class="padding-bottom-45">
    <h3 style="text-align: center;">
        <span>考核信息</span>
    </h3>
    <form nz-form #validateForm="ngForm" *ngIf="examineRecord">
        <nz-form-item nz-row style="margin-bottom: 0px;">
            <nz-form-label nz-col [nzSm]="4" nzRequired>所属标准</nz-form-label>
            <nz-form-control [nzSm]="20">
                <nz-form-text>
                    {{examineRecord.documentName}}
                </nz-form-text>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row>
            <nz-form-label nz-col [nzSm]="4" nzRequired>考核内容</nz-form-label>
            <nz-form-control [nzSm]="20">
                <textarea readonly nz-input rows="13" name="clauseInfo" #clauseInfo="ngModel"
                    [(ngModel)]="examineRecord.clauseInfo"></textarea>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row>
            <nz-form-label nz-col [nzSm]="4" nzRequired>检查情况</nz-form-label>
            <nz-form-control [nzSm]="20" nzHasFeedback>
                <textarea nz-input rows="3" name="content" required maxlength="500" #reason="ngModel"
                    [(ngModel)]="examineResult.content" [placeholder]="'请填写检查情况'"></textarea>
                <nz-form-explain *ngIf="reason.control.dirty&&reason.control.errors">
                    <ng-container *ngIf="reason.control.hasError('required')">请填写检查情况</ng-container>
                    <ng-container *ngIf="reason.control.hasError('maxlength')">字符长度小于等于500</ng-container>
                </nz-form-explain>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row>
            <div nz-col [nzSm]="4"></div>
            <nz-form-control [nzSm]="20">
                <nz-upload style="float:right;" [nzDisabled]="uploadLoading" nzAction="{{postUrl | hostUrl}}"
                    [nzShowUploadList]="false" (nzChange)="handleChange($event)" [nzBeforeUpload]="beforeUpload">
                    <div nz-button nzType="default" style="padding-top: 5px">
                        <i nz-icon type="cloud-upload" class="anticon anticon-upload"></i><span>上传附件</span>
                    </div>
                </nz-upload>
                <nz-list class="demo-loadmore-list" [nzDataSource]="attachmentList" [nzItemLayout]="'horizontal'"
                    nzHeader="附件列表" [nzRenderItem]="item" style="margin-top: 40px;">
                    <ng-template #item let-item>
                        <nz-list-item [nzActions]="[delete]">
                            <ng-template #delete><a style="color:#ff4d4f;" (click)="deleteAttachment(item.id)">删除</a>
                            </ng-template>
                            <nz-list-item-meta style="text-align: left;" [nzDescription]="nzDescription">
                            </nz-list-item-meta>
                            <ng-template #nzDescription>
                                <a href="{{item.fileUrl | hostUrl}}" target="_blank">"{{item.name}}"</a>
                            </ng-template>
                        </nz-list-item>
                    </ng-template>
                </nz-list>
            </nz-form-control>
        </nz-form-item>
        <!-- 功能按钮 -->
        <div class="custom-modal-footer" style="text-align: right;">
            <div class="custom-modal-footter-group">
                <button nz-button type="button" (click)="close()">
                    取消
                </button>
                <button *ngIf="!examineResult.id" nz-button [nzType]="'primary'" type="button" (click)="submit()"
                    [disabled]="!validateForm.valid || saving">
                    保存
                </button>
            </div>
        </div>
    </form>
</div>