<nz-card [nzBordered]="false" nzTitle="目标指标检查记录">
    <ng-template #totalTemplate let-total>共 {{totalItems}} 条</ng-template>
    <!-- <nz-table #nzTable [nzData]="indicatorList" [nzShowPagination]="false" [nzFrontPagination]="false"> -->
    <nz-table #nzTable [nzFrontPagination]="false" [nzShowTotal]="totalTemplate" [nzTotal]="totalItems"
        [nzData]="dataList" [(nzPageIndex)]="pageNumber" [(nzPageSize)]="pageSize" [nzLoading]="isTableLoading"
        [nzShowSizeChanger]="true" (nzPageIndexChange)="refresh()" (nzPageSizeChange)="refresh()">
        <thead>
            <tr>
                <th>考核部门</th>
                <th>预期值</th>
                <th>实际值</th>
                <th>指标状态</th>
                <th>负责人</th>
                <th>填写时间</th>
                <th>发布日期</th>
                <th>截止日期</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of nzTable.data">
                <td>{{item.employeeDeptName}}</td>
                <td>{{item.achieveTypeName + item.expectedValue}}%/次</td>
                <td>{{item.actualValue?item.actualValue+'%/次':'-'}}</td>
                <td>
                    <nz-badge *ngIf="item.status == 1" [nzStatus]="'default'" [nzText]="'未填写'"></nz-badge>
                    <nz-badge *ngIf="item.status == 2" [nzStatus]="'success'" [nzText]="'已达成'"></nz-badge>
                    <nz-badge *ngIf="item.status == 3" [nzStatus]="'error'" [nzText]="'未达成'"></nz-badge>
                    <nz-badge *ngIf="item.status == 4" [nzStatus]="'warning'" [nzText]="'已逾期'"></nz-badge>
                </td>
                <td>{{item.employeeName}}</td>
                <td>{{item.completeTime | date: "yyyy-MM-dd"}}</td>
                <td>{{item.publishTime | date: "yyyy-MM-dd"}}</td>
                <td>{{item.endTime | date: "yyyy-MM-dd"}}</td>
                <td>
                    <a *ngIf="item.status == 1" (click)="fullResult(item.indicatorDetailId)">填写指标</a>
                    <a *ngIf="item.status == 3" (click)="resultFeedBack(item.indicatorDetailId)">查看措施</a>
                </td>
            </tr>
        </tbody>
    </nz-table>
    <footer-toolbar>
        <button nz-button [nzType]="'default'" (click)="return()">
            返回
        </button>
    </footer-toolbar>
</nz-card>